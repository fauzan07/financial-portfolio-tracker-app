{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Main.css';import Axios from'axios';import Navbar from'../../components/Navbar/Navbar';import MyStock from'../../components/MyStock/MyStock';import HorizontalLine from'../../components/HorizontalLine/HorizontalLine';import AddStocks from'../../components/AddStocks/AddStocks';import Modal from'./../../common/Modal/Modal';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={myStocks:{},allStocks:{},showModal:false,selectedStock:{},dateError:false,dateErrorMsg:null,formComplete:false,formIncompleteError:false};_this.addStockHandler=function(stock){var selectedStock={};selectedStock.symbol=stock.symbol;selectedStock.name=stock.name;_this.setState({showModel:true,selectedStock:selectedStock});};_this.modalCloseHandler=function(){_this.setState({showModel:false});};_this.addStockToDBHandler=function(){if(_this.BuyingPrice.current.value.length===0||_this.BuyingDate.current.value.length===0||_this.NoOfShares.current.value.length===0){_this.setState({formComplete:false,formIncompleteError:true});}else{// let selectedStock = {...this.state.selectedStock}\n// console.log(selectedStock);\n// selectedStock.closingPrice = this.BuyingPrice.current.value;\n// selectedStock.numberOfShares = this.NoOfShares.current.value;\n// selectedStock.date = this.BuyingDate.current.value;\n// Axios.post('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json', selectedStock)\n//     .then(response => {\n//         console.log(response);\n//         let allStocks = {...this.state.allStocks};\n//         let newAllStocks = [];\n//         for(let value in allStocks){\n//             if(allStocks[value].symbol !== this.state.selectedStock.symbol){\n//                 newAllStocks.push(allStocks[value]);\n//             }\n//         }\n//         let newMystocks = {};\n//         Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json')\n//             .then(response => {\n//                 newMystocks = response.data;\n//            Axios.put('https://financial-portfolio-trac-178fd.firebaseio.com/allStocks.json', newAllStocks)\n//                 .then(response => {\n//                     this.setState({\n//                         selectedStock : {},\n//                         showModal : false,\n//                         allStocks: newAllStocks,\n//                         myStocks : newMystocks\n//                     })\n//             }).catch(error => {console.log(error)});\n//         }).catch(error => {console.log(error)});\n//     }).catch(error => {console.log(error)});\n}};_this.dateHandler=function(event){if(new Date(event.target.value).getDay()===0||new Date(event.target.value).getDay()===6){_this.setState({dateError:true,dateErrorMsg:'you cannot select a weekend date'});}else if(new Date(event.target.value).getTime()>new Date().getTime()){_this.setState({dateError:true,dateErrorMsg:'you cannot select a future date'});}else{_this.setState({dateError:false,dateErrorMsg:null});}};_this.NoOfShares=React.createRef();_this.BuyingPrice=React.createRef();_this.BuyingDate=React.createRef();return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/allStocks.json').then(function(response){console.log(response);var allStocks=response.data;Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json').then(function(response){console.log(response);_this2.setState({myStocks:response.data,allStocks:allStocks});});}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var today=new Date();var modalContent=this.state.showModel?/*#__PURE__*/React.createElement(React.Fragment,null,this.state.formIncompleteError?/*#__PURE__*/React.createElement(\"p\",{style:{color:'red'}},\"Kindly complete the form before adding this stock for tracking\"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"AddStockForm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"Company Name:\"),/*#__PURE__*/React.createElement(\"span\",{className:\"cname\"},this.state.selectedStock.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"No. of Shares:\"),/*#__PURE__*/React.createElement(\"input\",{id:\"noShares\",type:\"number\",min:\"1\",placeholder:\"No of Shares\",ref:this.NoOfShares})),/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"Buy Price:\"),/*#__PURE__*/React.createElement(\"input\",{id:\"buyPrice\",type:\"number\",min:\"1\",placeholder:\"buying Price\",ref:this.BuyingPrice})),/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"Buy Date:\"),/*#__PURE__*/React.createElement(\"input\",{id:\"buyDate\",type:\"date\",onChange:this.dateHandler,ref:this.BuyingDate})),this.state.dateError?/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},this.state.dateErrorMsg):null),/*#__PURE__*/React.createElement(\"button\",{className:\"AddButton\",disabled:this.state.formComplete,onClick:this.addStockToDBHandler},\"Add\")):null;var weekendwarning=today.getDay()===0||today.getDay()===7?/*#__PURE__*/React.createElement(\"p\",null,\"*Since today is a weekend, the currernt price refers to the last updated working day price.\"):null;return/*#__PURE__*/React.createElement(\"div\",null,this.state.showModel?/*#__PURE__*/React.createElement(Modal,{title:\"Add \".concat(this.state.selectedStock.name,\" to My Stocks\"),content:modalContent,close:this.modalCloseHandler}):null,weekendwarning,/*#__PURE__*/React.createElement(Navbar,{title:\"Finance Portfolio Tracker\"}),/*#__PURE__*/React.createElement(MyStock,{myStocks:this.state.myStocks}),/*#__PURE__*/React.createElement(HorizontalLine,null),/*#__PURE__*/ // Object.keys(this.state.myStocks).lenght < 5 ?\nReact.createElement(AddStocks,{allStocks:this.state.allStocks,addStock:this.addStockHandler})//    <AddStocks error={'You can add only 5 stocks for tracking!'} />\n);}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["/opt/lampp/htdocs/financial-portfolio-tracker-app/src/pages/Main/Main.js"],"names":["React","Component","Axios","Navbar","MyStock","HorizontalLine","AddStocks","Modal","Main","props","state","myStocks","allStocks","showModal","selectedStock","dateError","dateErrorMsg","formComplete","formIncompleteError","addStockHandler","stock","symbol","name","setState","showModel","modalCloseHandler","addStockToDBHandler","BuyingPrice","current","value","length","BuyingDate","NoOfShares","dateHandler","event","Date","target","getDay","getTime","createRef","get","then","response","console","log","data","catch","error","today","modalContent","color","weekendwarning"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Main.css';\nimport Axios from 'axios';\nimport Navbar from '../../components/Navbar/Navbar';\nimport MyStock from '../../components/MyStock/MyStock';\nimport HorizontalLine from '../../components/HorizontalLine/HorizontalLine';\nimport AddStocks from '../../components/AddStocks/AddStocks';\nimport Modal from './../../common/Modal/Modal';\n\n\nclass Main extends Component {\n    constructor(props){\n        super(props);\n        this.NoOfShares = React.createRef();\n        this.BuyingPrice = React.createRef();\n        this.BuyingDate = React.createRef();\n    }\n    state = {\n        myStocks: {},\n        allStocks: {},\n        showModal : false,\n        selectedStock : {},\n        dateError : false,\n        dateErrorMsg : null,\n        formComplete : false,\n        formIncompleteError : false\n    }\n\n    componentDidMount() {\n        Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/allStocks.json')\n            .then(response => {\n                console.log(response);\n                let allStocks = response.data;\n                    Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json')\n                    .then(response => {\n                        console.log(response);\n                    this.setState({\n                        myStocks: response.data,\n                        allStocks: allStocks\n                    })\n                })\n            \n            })\n            .catch(error => {console.log(error)});\n    }\n\n    addStockHandler = (stock) => {\n        let selectedStock = {};\n    \n        selectedStock.symbol = stock.symbol;\n        selectedStock.name = stock.name;\n\n        this.setState({\n            showModel : true,\n            selectedStock : selectedStock\n        })\n    }\n\n    modalCloseHandler = () => {this.setState({showModel : false})};\n   \n    addStockToDBHandler = () => {\n        if(this.BuyingPrice.current.value.length === 0 || this.BuyingDate.current.value.length === 0 || this.NoOfShares.current.value.length === 0){\n            this.setState({\n                formComplete : false,\n                formIncompleteError : true\n            })\n        }else{\n            // let selectedStock = {...this.state.selectedStock}\n            // console.log(selectedStock);\n            // selectedStock.closingPrice = this.BuyingPrice.current.value;\n            // selectedStock.numberOfShares = this.NoOfShares.current.value;\n            // selectedStock.date = this.BuyingDate.current.value;\n            \n            // Axios.post('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json', selectedStock)\n            //     .then(response => {\n            //         console.log(response);\n            //         let allStocks = {...this.state.allStocks};\n            //         let newAllStocks = [];\n            //         for(let value in allStocks){\n            //             if(allStocks[value].symbol !== this.state.selectedStock.symbol){\n            //                 newAllStocks.push(allStocks[value]);\n            //             }\n            //         }\n\n            //         let newMystocks = {};\n\n            //         Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json')\n            //             .then(response => {\n            //                 newMystocks = response.data;\n            //            Axios.put('https://financial-portfolio-trac-178fd.firebaseio.com/allStocks.json', newAllStocks)\n            //                 .then(response => {\n            //                     this.setState({\n            //                         selectedStock : {},\n            //                         showModal : false,\n            //                         allStocks: newAllStocks,\n            //                         myStocks : newMystocks\n            //                     })\n            //             }).catch(error => {console.log(error)});\n            //         }).catch(error => {console.log(error)});\n            //     }).catch(error => {console.log(error)});\n            }\n        }\n\n\n    dateHandler = (event) => {\n        if(new Date(event.target.value).getDay() === 0 || new Date(event.target.value).getDay() === 6){\n            this.setState({\n                dateError : true,\n                dateErrorMsg : 'you cannot select a weekend date'\n            })\n        }else if(new Date(event.target.value).getTime() > new Date().getTime()){\n            this.setState({\n                dateError : true,\n                dateErrorMsg : 'you cannot select a future date'\n            })\n\n        }else{\n            this.setState({\n                dateError : false,\n                dateErrorMsg : null\n            })\n        }\n    }\n    \n    render() {\n        let today = new Date();\n        let modalContent = this.state.showModel ? \n\n        (\n            <>\n            {this.state.formIncompleteError ? <p style={{color : 'red'}}>Kindly complete the form before adding this stock for tracking</p> : null}\n            <div className=\"AddStockForm\">\n             <div className=\"FormInput\"><span className=\"Lable\">Company Name:</span><span className=\"cname\">{this.state.selectedStock.name}</span></div>\n             <div className=\"FormInput\"><span className=\"Lable\">No. of Shares:</span><input id=\"noShares\" type=\"number\" min=\"1\" placeholder=\"No of Shares\" ref={this.NoOfShares}/></div>\n             <div className=\"FormInput\"><span className=\"Lable\">Buy Price:</span><input id=\"buyPrice\" type=\"number\" min=\"1\" placeholder=\"buying Price\" ref={this.BuyingPrice}/></div>\n             <div className=\"FormInput\"><span className=\"Lable\">Buy Date:</span><input id=\"buyDate\" type=\"date\" onChange={this.dateHandler} ref={this.BuyingDate}/></div>\n             {this.state.dateError ? <span style={{color : 'red'}}>{this.state.dateErrorMsg}</span> : null}\n            </div>\n            <button className=\"AddButton\" disabled={this.state.formComplete} onClick={this.addStockToDBHandler}>Add</button>\n            </>\n        )\n        :null;\n\n        let weekendwarning = (\n            today.getDay() === 0 || today.getDay() === 7 ?\n            <p>*Since today is a weekend, the currernt price refers to the last updated working day price.</p> :\n            null\n        )\n\n        return (\n            <div>\n                {\n                    this.state.showModel ?\n                    <Modal  \n                        title={`Add ${this.state.selectedStock.name} to My Stocks`}\n                        content = {modalContent}\n                        close = {this.modalCloseHandler}/> :\n                        null\n                }\n               {weekendwarning}\n               <Navbar title=\"Finance Portfolio Tracker\" />\n               <MyStock myStocks = {this.state.myStocks}/>\n               <HorizontalLine />\n               {\n                // Object.keys(this.state.myStocks).lenght < 5 ?\n               <AddStocks allStocks = {this.state.allStocks} addStock={this.addStockHandler}/> \n            //    <AddStocks error={'You can add only 5 stocks for tracking!'} />\n                }\n            </div>\n        )\n    }\n}\n\n\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}
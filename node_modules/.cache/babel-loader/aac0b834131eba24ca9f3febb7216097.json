{"ast":null,"code":"import _objectSpread from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./MyStock.css';import Axios from'axios';var MyStock=/*#__PURE__*/function(_Component){_inherits(MyStock,_Component);var _super=_createSuper(MyStock);function MyStock(){var _this;_classCallCheck(this,MyStock);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={myStocks:{}};_this.gitapi=function(){var api_key='0XCP84NVEHMH0GIX';var rows={};Object.keys(_this.props.myStocks).map(function(row){var datarow=_this.props.myStocks[row];rows[datarow.symbol]=_objectSpread({},datarow);Axios.get(\"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=\".concat(datarow.symbol,\"&outputsize=full&apikey=\").concat(api_key,\".json\")).then(function(response){console.log(response);var currentprice=response.data['Time Series (Daily)'];console.log(currentprice);var profit=(currentprice-datarow.buyprice)*datarow.numberOfShares;// profit and loss logic!\nconsole.log(profit);_this.setState({newcurrentprice:currentprice,profit:profit});}).catch(function(error){console.log(error);});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MyStock,{newcurrentprice:_this.state.newcurrentprice,profit:_this.state.profit}));});console.log(rows);};return _this;}_createClass(MyStock,[{key:\"render\",value:function render(){var _this2=this;var rows=Object.keys(this.props.myStocks).map(function(row){var stockData=_this2.props.myStocks[row];return/*#__PURE__*/React.createElement(\"tr\",{key:stockData.symbol},/*#__PURE__*/React.createElement(\"td\",null,stockData.symbol),/*#__PURE__*/React.createElement(\"td\",null,stockData.name),/*#__PURE__*/React.createElement(\"td\",null,stockData.numberOfShares),/*#__PURE__*/React.createElement(\"td\",null,stockData.closingPrice),/*#__PURE__*/React.createElement(\"td\",null,stockData.newcurrentprice),/*#__PURE__*/React.createElement(\"td\",null,stockData.profit),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"StopTrackingbtn\"},\"Stop Tracking\")));});// console.log(rows);\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"MyStock\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"MyStockTitle\"},\"My Stocks\")),/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},/*#__PURE__*/React.createElement(\"table\",{id:\"MyStocksTable\",className:\"MyStocksTable\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Stock symbol\"),/*#__PURE__*/React.createElement(\"th\",null,\"Stock name\"),/*#__PURE__*/React.createElement(\"th\",null,\"No.of shares\"),/*#__PURE__*/React.createElement(\"th\",null,\"Buy price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Current price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Profit/Loss\"),/*#__PURE__*/React.createElement(\"th\",null,\"Stop Tracking\"))),/*#__PURE__*/React.createElement(\"tbody\",null,rows))));}}]);return MyStock;}(Component);export default MyStock;","map":{"version":3,"sources":["/opt/lampp/htdocs/financial-portfolio-tracker-app/src/components/MyStock/MyStock.js"],"names":["React","Component","Axios","MyStock","state","myStocks","gitapi","api_key","rows","Object","keys","props","map","row","datarow","symbol","get","then","response","console","log","currentprice","data","profit","buyprice","numberOfShares","setState","newcurrentprice","catch","error","stockData","name","closingPrice"],"mappings":"uzBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAA+B,OAA/B,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAGMC,CAAAA,O,+TACFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,C,OAIRC,M,CAAS,UAAM,CACX,GAAMC,CAAAA,OAAO,CAAG,kBAAhB,CACA,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACAC,MAAM,CAACC,IAAP,CAAY,MAAKC,KAAL,CAAWN,QAAvB,EAAiCO,GAAjC,CAAqC,SAAAC,GAAG,CAAI,CACxC,GAAIC,CAAAA,OAAO,CAAG,MAAKH,KAAL,CAAWN,QAAX,CAAoBQ,GAApB,CAAd,CACAL,IAAI,CAACM,OAAO,CAACC,MAAT,CAAJ,kBAA2BD,OAA3B,EACJZ,KAAK,CAACc,GAAN,+EAAiFF,OAAO,CAACC,MAAzF,oCAA0HR,OAA1H,WACCU,IADD,CACM,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,GAAIG,CAAAA,YAAY,CAAGH,QAAQ,CAACI,IAAT,CAAc,qBAAd,CAAnB,CACAH,OAAO,CAACC,GAAR,CAAYC,YAAZ,EACA,GAAIE,CAAAA,MAAM,CAAI,CAACF,YAAY,CAAGP,OAAO,CAACU,QAAxB,EAAkCV,OAAO,CAACW,cAAxD,CAAyE;AACzEN,OAAO,CAACC,GAAR,CAAYG,MAAZ,EACA,MAAKG,QAAL,CAAc,CACVC,eAAe,CAAEN,YADP,CAEVE,MAAM,CAANA,MAFU,CAAd,EAIH,CAXD,EAYCK,KAZD,CAYO,SAAAC,KAAK,CAAI,CAACV,OAAO,CAACC,GAAR,CAAYS,KAAZ,EAAmB,CAZpC,EAcA,mBACI,4CACK,oBAAC,OAAD,EAAS,eAAe,CAAI,MAAKzB,KAAL,CAAWuB,eAAvC,CAAwD,MAAM,CAAE,MAAKvB,KAAL,CAAWmB,MAA3E,EADL,CADJ,CAMD,CAvBC,EAwBFJ,OAAO,CAACC,GAAR,CAAYZ,IAAZ,EACA,C,0EAKO,iBACL,GAAIA,CAAAA,IAAI,CACRC,MAAM,CAACC,IAAP,CAAY,KAAKC,KAAL,CAAWN,QAAvB,EAAiCO,GAAjC,CAAqC,SAAAC,GAAG,CAAI,CACxC,GAAIiB,CAAAA,SAAS,CAAG,MAAI,CAACnB,KAAL,CAAWN,QAAX,CAAoBQ,GAApB,CAAhB,CACY,mBACI,0BAAK,GAAG,CAAEiB,SAAS,CAACf,MAApB,eACA,8BAAKe,SAAS,CAACf,MAAf,CADA,cAEA,8BAAKe,SAAS,CAACC,IAAf,CAFA,cAGA,8BAAKD,SAAS,CAACL,cAAf,CAHA,cAIA,8BAAKK,SAAS,CAACE,YAAf,CAJA,cAKA,8BAAKF,SAAS,CAACH,eAAf,CALA,cAMA,8BAAKG,SAAS,CAACP,MAAf,CANA,cAOA,2CAAI,8BAAQ,SAAS,CAAC,iBAAlB,kBAAJ,CAPA,CADJ,CAUE,CAZlB,CADA,CAcgB;AAChB,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,4BAAM,SAAS,CAAC,cAAhB,cADJ,CADJ,cAII,2BAAK,SAAS,CAAC,MAAf,eACI,6BAAO,EAAE,CAAC,eAAV,CAA0B,SAAS,CAAC,eAApC,eACI,8CACI,2CACI,6CADJ,cAEI,2CAFJ,cAGI,6CAHJ,cAII,0CAJJ,cAKI,8CALJ,cAMI,4CANJ,cAOI,8CAPJ,CADJ,CADJ,cAaI,iCACKf,IADL,CAbJ,CADJ,CAJJ,CADJ,CA4BP,C,qBAlFqBP,S,EAoFtB,cAAeE,CAAAA,OAAf","sourcesContent":["import React , {Component}from 'react';\nimport './MyStock.css';\nimport Axios from 'axios';\n\n\nclass MyStock extends Component{\n    state = {\n        myStocks: {}\n    }\n\n    gitapi = () => {\n        const api_key = '0XCP84NVEHMH0GIX';\n        let rows = {}; \n        Object.keys(this.props.myStocks).map(row => {\n            let datarow = this.props.myStocks[row];\n            rows[datarow.symbol] = {...datarow};\n        Axios.get(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${datarow.symbol}&outputsize=full&apikey=${api_key}.json`)\n        .then(response => {\n            console.log(response);\n            let currentprice = response.data['Time Series (Daily)'];\n            console.log(currentprice);\n            let profit = ((currentprice - datarow.buyprice)*datarow.numberOfShares); // profit and loss logic!\n            console.log(profit);\n            this.setState({\n                newcurrentprice: currentprice,\n                profit\n            })\n        })\n        .catch(error => {console.log(error)});\n\n        return(\n            <div>\n                 <MyStock newcurrentprice = {this.state.newcurrentprice} profit={this.state.profit}/> \n            </div>        \n            )\n            \n      })\n      console.log(rows);\n     }\n\n\n   \n\n     render(){\n        let rows = \n        Object.keys(this.props.myStocks).map(row => {\n            let stockData = this.props.myStocks[row];\n                        return (\n                            <tr  key={stockData.symbol}>\n                            <td>{stockData.symbol}</td>\n                            <td>{stockData.name}</td>\n                            <td>{stockData.numberOfShares}</td>\n                            <td>{stockData.closingPrice}</td>\n                            <td>{stockData.newcurrentprice}</td>\n                            <td>{stockData.profit}</td>\n                            <td><button className=\"StopTrackingbtn\">Stop Tracking</button></td>\n                        </tr>\n                        )})\n                        // console.log(rows);\n        return (\n            <div className=\"MyStock\">\n                <div className=\"Header\">\n                    <span className=\"MyStockTitle\">My Stocks</span>\n                </div>\n                <div className=\"body\">\n                    <table id=\"MyStocksTable\" className=\"MyStocksTable\">\n                        <thead>\n                            <tr>\n                                <th>Stock symbol</th>\n                                <th>Stock name</th>\n                                <th>No.of shares</th>\n                                <th>Buy price</th>\n                                <th>Current price</th>\n                                <th>Profit/Loss</th>\n                                <th>Stop Tracking</th>\n                            </tr>\n                        </thead>\n\n                        <tbody>\n                            {rows}\n                        </tbody>\n                    </table>\n                </div>\n                \n            </div>\n        )\n    \n}\n}\nexport default MyStock;\n\n"]},"metadata":{},"sourceType":"module"}
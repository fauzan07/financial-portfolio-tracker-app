{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/opt/lampp/htdocs/financial-portfolio-tracker-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Main.css';import Axios from'axios';import Navbar from'../../components/Navbar/Navbar';import MyStock from'../../components/MyStock/MyStock';import HorizontalLine from'../../components/HorizontalLine/HorizontalLine';import AddStocks from'../../components/AddStocks/AddStocks';import Modal from'./../../common/Modal/Modal';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={myStocks:{},allStocks:{},showModal:false,selectedStock:{},dateError:false,dateErrorMsg:null,formComplete:false,formIncompleteError:false};_this.addStockHandler=function(stock){var selectedStock={};selectedStock.symbol=stock.symbol;selectedStock.name=stock.name;_this.setState({showModel:true,selectedStock:selectedStock});};_this.modalCloseHandler=function(){_this.setState({showModel:false});};_this.addStockToDBHandler=function(){if(_this.BuyingPrice.current.value.length===0&&_this.BuyingDate.current.value.length===0&&_this.NoOfShares.current.value.length){_this.setState({formComplete:false,formIncompleteError:true});}};_this.NoOfShares=React.createRef();_this.BuyingPrice=React.createRef();_this.BuyingDate=React.createRef();return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/allStocks.json').then(function(response){console.log(response);var allStocks=response.data;Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json').then(function(response){console.log(response);_this2.setState({myStocks:response.data,allStocks:allStocks});});}).catch(function(error){console.log(error);});}},{key:\"render\",// dateHandler = (event) => {\n//     if(new Date(event.target.value).getDay() === 0 || new Date(event.target.value).getDay() === 6){\n//         this.setState({\n//             dateError : true,\n//             dataErrorMsg : 'you cannot select a weekend date'\n//         })\n//     }else if(new Date(event.target.value).getDay() > new Date(event.target.value).getDay()){\n//         this.setState({\n//             dateError : true,\n//             dataErrorMsg : 'you cannot select a future date'\n//         })\n//     }else{\n//         this.setState({\n//             dateError : false,\n//             dataErrorMsg : null\n//         })\n//     }\n// }\nvalue:function render(){var today=new Date();var modalContent=this.state.showModel?/*#__PURE__*/React.createElement(React.Fragment,null,this.state.formIncompleteError?/*#__PURE__*/React.createElement(\"p\",null,\"Kindly complete the form before adding this stock for tracking\"):null,/*#__PURE__*/React.createElement(\"div\",{className:\"AddStockForm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"Company Name:\"),/*#__PURE__*/React.createElement(\"span\",{className:\"cname\"},this.state.selectedStock.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"No. of Shares:\"),/*#__PURE__*/React.createElement(\"input\",{id:\"noShares\",type:\"number\",min:\"1\",placeholder:\"No of Shares\",ref:this.NoOfShares})),/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"Buy Price:\"),/*#__PURE__*/React.createElement(\"input\",{id:\"buyPrice\",type:\"number\",min:\"1\",placeholder:\"No of Shares\",ref:this.BuyingPrice})),/*#__PURE__*/React.createElement(\"div\",{className:\"FormInput\"},/*#__PURE__*/React.createElement(\"span\",{className:\"Lable\"},\"Buy Date:\"),this.state.dateError?/*#__PURE__*/React.createElement(\"span\",null,this.state.dataErrorMsg):null,/*#__PURE__*/React.createElement(\"input\",{id:\"buyDate\",type:\"date\",onChange:this.dateHandler,ref:this.BuyingDate}))),/*#__PURE__*/React.createElement(\"button\",{className:\"AddButton\",disabled:this.state.formComplete,onClick:console.log(this.addStockToDBHandler)},\"Add\")):null;var weekendwarning=today.getDay()===0||today.getDay()===7?/*#__PURE__*/React.createElement(\"p\",null,\"*Since today is a weekend, the currernt price refers to the last updated working day price.\"):null;return/*#__PURE__*/React.createElement(\"div\",null,this.state.showModel?/*#__PURE__*/React.createElement(Modal,{title:\"Add \".concat(this.state.selectedStock.name,\" to My Stocks\"),content:modalContent,close:this.modalCloseHandler}):null,weekendwarning,/*#__PURE__*/React.createElement(Navbar,{title:\"Finance Portfolio Tracker\"}),/*#__PURE__*/React.createElement(MyStock,{myStocks:this.state.myStocks}),/*#__PURE__*/React.createElement(HorizontalLine,null),/*#__PURE__*/ // Object.keys(this.state.myStocks).lenght < 5 ?\nReact.createElement(AddStocks,{allStocks:this.state.allStocks,addStock:this.addStockHandler})//    <AddStocks error={'You can add only 5 stocks for tracking!'} />\n);}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["/opt/lampp/htdocs/financial-portfolio-tracker-app/src/pages/Main/Main.js"],"names":["React","Component","Axios","Navbar","MyStock","HorizontalLine","AddStocks","Modal","Main","props","state","myStocks","allStocks","showModal","selectedStock","dateError","dateErrorMsg","formComplete","formIncompleteError","addStockHandler","stock","symbol","name","setState","showModel","modalCloseHandler","addStockToDBHandler","BuyingPrice","current","value","length","BuyingDate","NoOfShares","createRef","get","then","response","console","log","data","catch","error","today","Date","modalContent","dataErrorMsg","dateHandler","weekendwarning","getDay"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Main.css';\nimport Axios from 'axios';\nimport Navbar from '../../components/Navbar/Navbar';\nimport MyStock from '../../components/MyStock/MyStock';\nimport HorizontalLine from '../../components/HorizontalLine/HorizontalLine';\nimport AddStocks from '../../components/AddStocks/AddStocks';\nimport Modal from './../../common/Modal/Modal';\n\n\nclass Main extends Component {\n    constructor(props){\n        super(props);\n        this.NoOfShares = React.createRef();\n        this.BuyingPrice = React.createRef();\n        this.BuyingDate = React.createRef();\n    }\n    state = {\n        myStocks: {},\n        allStocks: {},\n        showModal : false,\n        selectedStock : {},\n        dateError : false,\n        dateErrorMsg : null,\n        formComplete : false,\n        formIncompleteError : false\n    }\n\n    componentDidMount() {\n        Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/allStocks.json')\n            .then(response => {\n                console.log(response);\n                let allStocks = response.data;\n                    Axios.get('https://financial-portfolio-trac-178fd.firebaseio.com/myStocks.json')\n                    .then(response => {\n                        console.log(response);\n                    this.setState({\n                        myStocks: response.data,\n                        allStocks: allStocks\n                    })\n                })\n            \n            })\n            .catch(error => {console.log(error)});\n    }\n\n    addStockHandler = (stock) => {\n        let selectedStock = {};\n        selectedStock.symbol = stock.symbol;\n        selectedStock.name = stock.name;\n\n        this.setState({\n            showModel : true,\n            selectedStock : selectedStock\n        })\n    }\n\n    modalCloseHandler = () => {this.setState({showModel : false})};\n   \n    addStockToDBHandler = () => {\n        if(this.BuyingPrice.current.value.length === 0 && this.BuyingDate.current.value.length === 0 && this.NoOfShares.current.value.length){\n            this.setState({\n                formComplete : false,\n                formIncompleteError : true\n            })\n        }\n    }\n\n\n    // dateHandler = (event) => {\n    //     if(new Date(event.target.value).getDay() === 0 || new Date(event.target.value).getDay() === 6){\n    //         this.setState({\n    //             dateError : true,\n    //             dataErrorMsg : 'you cannot select a weekend date'\n    //         })\n    //     }else if(new Date(event.target.value).getDay() > new Date(event.target.value).getDay()){\n    //         this.setState({\n    //             dateError : true,\n    //             dataErrorMsg : 'you cannot select a future date'\n    //         })\n\n    //     }else{\n    //         this.setState({\n    //             dateError : false,\n    //             dataErrorMsg : null\n    //         })\n    //     }\n    // }\n    \n    render() {\n        let today = new Date();\n        let modalContent = this.state.showModel ? \n\n        (\n            <>\n            {this.state.formIncompleteError ? <p>Kindly complete the form before adding this stock for tracking</p> : null}\n            <div className=\"AddStockForm\">\n             <div className=\"FormInput\"><span className=\"Lable\">Company Name:</span><span className=\"cname\">{this.state.selectedStock.name}</span></div>\n             <div className=\"FormInput\"><span className=\"Lable\">No. of Shares:</span><input id=\"noShares\" type=\"number\" min=\"1\" placeholder=\"No of Shares\" ref={this.NoOfShares}/></div>\n             <div className=\"FormInput\"><span className=\"Lable\">Buy Price:</span><input id=\"buyPrice\" type=\"number\" min=\"1\" placeholder=\"No of Shares\" ref={this.BuyingPrice}/></div>\n             <div className=\"FormInput\"><span className=\"Lable\">Buy Date:</span>{this.state.dateError ? <span>{this.state.dataErrorMsg}</span> : null}<input id=\"buyDate\" type=\"date\" onChange={this.dateHandler} ref={this.BuyingDate}/></div>\n            </div>\n            <button className=\"AddButton\" disabled={this.state.formComplete} onClick={console.log(this.addStockToDBHandler)}>Add</button>\n            </>\n        )\n        :null;\n\n        let weekendwarning = (\n            today.getDay() === 0 || today.getDay() === 7 ?\n            <p>*Since today is a weekend, the currernt price refers to the last updated working day price.</p> :\n            null\n        )\n\n        return (\n            <div>\n                {\n                    this.state.showModel ?\n                    <Modal  \n                        title={`Add ${this.state.selectedStock.name} to My Stocks`}\n                        content = {modalContent}\n                        close = {this.modalCloseHandler}/> :\n                        null\n                }\n               {weekendwarning}\n               <Navbar title=\"Finance Portfolio Tracker\" />\n               <MyStock myStocks = {this.state.myStocks}/>\n               <HorizontalLine />\n               {\n                // Object.keys(this.state.myStocks).lenght < 5 ?\n               <AddStocks allStocks = {this.state.allStocks} addStock={this.addStockHandler}/> \n            //    <AddStocks error={'You can add only 5 stocks for tracking!'} />\n                }\n            </div>\n        )\n    }\n}\n\n\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}